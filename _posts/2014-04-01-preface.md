---
layout: post
unique_identifier:
 - 'http:/example.jp/bookid_in_url'
 - 'BookID'
 - 'URL'
title: 'はじめに'
creator: '五十嵐邦明'
date: '2014-04-01'
categories:
---

# はじめに

> *Rubyは開発者を幸せにする言語。*

> *もっと多くの開発者を Ruby で幸せにしたい。*

> *- matz*

## 本書の対象読者

本書ではWebアプリケーションがどういうものなのか、何ができるのか、どのような仕組みで動いているのかを説明していきます。

本書が対象としている読者は以下のような方々です。

- プログラミングは初めてである
- Webプログラミングは初めてである
- Railsプログラミングは初めてである

プログラミングは初めての方も安心してください。プログラミングの世界へようこそ！本書は筆者が作成した2年間の一橋大学社会学部での講義資料をもとに書いています。講義はプログラミングは初経験である学生が多数派でした。学生さんたちがつまづいた箇所について補足をして、資料を加筆していきました。プログラミングが初めての方に読んでいただけるように、丁寧に説明をしていきます。

本書の目的の1つは写真や文書を投稿できるミニブログアプリを題材に、Railsアプリを実際に作って動かし、その仕組みを学ぶことです。できるだけ簡単なサンプルアプリを用意し、その仕組みを説明することで、RailsおよびWebアプリの基礎を説明していきます。

また、本書の目的のもう1つは、世の中にあるたくさんの情報を読むための基礎知識を身につけることです。Railsを学ぶための良い資料として、[RailsGuides](http://railsguides.jp/) や [RailsTutorial](http://railstutorial.jp/) があります。本書を読み進めると、これらの資料を読み進めるための基礎知識が身についてきます。実践的なRailsアプリを作るために、これらの資料は大きな助けになるでしょう。

プログラミングの世界、Webの世界は広大です。本書ではHTML（ブラウザで表示するための言語）とCSS（HTMLと一緒に使う、装飾するための言語）については最低限の説明のみにとどめています。HTMLとCSSについて学びたい方は、たとえば以下の情報が分かり易いです。

- ドットインストール HTML入門
  - http://dotinstall.com/lessons/basic_html_v2
- ドットインストール CSS入門
  - http://dotinstall.com/lessons/basic_css_v2

もしもあなたがデザイナーであり、HTMLコーディングはおてのもの、という場合は大きなアドバンテージがあります。本書の知識と組み合わせることで鮮やかなWebアプリを作ることができるようになるでしょう。

また、プログラミングが初めての方で本書を読んで「動くことは分かったけど、そもそもプログラムって何？」「プログラムを書くときに、どうやって考えればいいんだろう？」「プログラムを読んで理解はできるが、自分で考えて書くことができない」と感じた方は、以下の本が参考になるのではと思います。プログラミングとは何か、プログラマはどうやって思考するのかといった話題について、分かり易い例をたくさん出して説明しています。

- 教養としてのプログラミング講座
  - 中公新書ラクレ
  - 著: 清水 亮
  - ISBN: 978-4-12-150489-0

もしもあなたが他の言語でプログラミングをした経験があれば、これも大きなアドバンテージです。特にjavascriptの経験がある方は、本書の知識をつかってインタラクティブで格好良いWebアプリを作ることができるようになるでしょう。Rubyistの方は、本書の内容を越えた範囲について、いままでの知識をつかって早く成長することができるでしょう。

逆に、本書の対象から外れるのは以下のような方です。

- Railsの基礎はわかっている

本書はRailsの入門的な本やサイトを読んで難しいと感じた方に、そこまでの知識を埋められるように書いています。逆に言えば、ほかの入門書を読める力があれば、本書は易しすぎると感じるかもしれません。具体的には、[RailsTutorial](http://railstutorial.jp/) を読み進められるようであれば、本書から得られるものは少ないかもしれません。

## 書式例

本書では以下のようにコードやターミナルコマンドを表現します。

### ruby および rails コードの書式例

```ruby
puts "Hello world!"
```
### 差分がある場合の書式例

```diff
class HelloController < ApplicationController
  def index
-   @time = Time.now
+   @time = 1.day.ago
  end
end
```

-, + 印が付いている場合はその行について変更を行うことを示します。（-, + がついていない部分はそのままです） - で始まる行を削除し、+ で始まる行を追加してください。

### ターミナルコマンドの書式例
```bash
rails server
```

### ターミナルの実行結果の書式例
```console
$ rails server
=> Booting Puma
=> Rails 5.0.0.beta1 application starting in development on http://localhost:3000
=> Run `rails server -h` for more startup options
=> Ctrl-C to shutdown server
I, [2015-12-27T16:25:05.483473 #83326]  INFO -- : Celluloid 0.17.2 is running in BACKPORTED mode. [ http://git.io/vJf3J ]
Puma 2.15.3 starting...
* Min threads: 0, max threads: 16
* Environment: development
* Listening on tcp://localhost:3000
```

## サンプルコード

本書で使うサンプルコードは以下に置いてあります。

[`https://github.com/igaiga/rails_textbook_sample`](https://github.com/igaiga/rails_textbook_sample)

## 開発環境

本書はRuby 2.3.0 および Rails 5.0.0beta1, Rails4.2 で動作確認をしています。

※2016年2月現在、Rails5.0.0は正式リリース版がまだ出ていません。ベータリリース版(正式リリースへ向けての準備バージョン)である Rails 5.0.0.beta1 が最新版です。正式リリース版が出る前にベータリリース版Rails5.0.0を使いたい場合は `gem install rails --pre` とインストールコマンドに `--pre` オプションを付けて実行します。また、本書の内容はRails4.2でも同様に実行できますので、Rails4.2をお使いいただいても大丈夫です。

本書の内容を実行する場合にはRubyおよびRailsの開発環境を作る必要があります。開発環境として、3つの方法を書きました。どれか1つを選んで環境を作ってみましょう。簡単に開発を始めたい場合はクラウド開発環境をお勧めします。

- ブラウザだけで開発できるクラウド開発環境 - Cloud9
- ローカルに開発環境を作る - mac の場合
- ローカルに開発環境を作る - Windowsの場合

また、ブラウザはお好きなものをご利用いただけますが、途中のデバッグの箇所で [Chrome](https://www.google.co.jp/chrome/browser/) の機能を例にして説明していますので、Chrome を使うと分かり易いです。

### ブラウザだけで開発できるクラウド開発環境 - Cloud9

[Cloud9](https://c9.io) はブラウザだけでRailsアプリ開発を行うことができます。セットアップはCloud9 へ会員登録を行うだけです。有料プランもありますが、本書の内容で開発を行う範囲では無料プランの範囲で利用することができます。

ワークスペースを作成する際に、テンプレートとしてRuby on Rails Tutorialを選ぶと、この資料の範囲が終わったあとで、次のステップとなる資料 RaisTutorial を利用することもできるのでお勧めです。画面は3ペインのIDEになっていて、ファイルエクスプローラ、ファイルエディタ、ターミナルを利用することができます。ターミナルからはgitコマンドも利用できるので、github でソース管理することも可能です。

ローカルでの開発と違うのは、rails server コマンドと、そこへのアクセス方法です。rails server コマンドを実行する際は、以下のように -b, -p オプションを指定する必要があります。

```console
$ rails server -b $IP -p $PORT
```

また、起動したWebサーバへのアクセスは、ローカルに環境を作った場合と異なり、上部メニューにある Preview - Preview Running Application からアクセスします。

クラウドで開発できるCloud9 はマシンを変えても同じ環境で開発でき、ブラウザが使える環境であればどの端末からでも開発できるというメリットがあります。一方でネットに接続していないと開発できないことや、Cloud9がサービスを止めてしまうと継続して使えないというデメリットもあります。

以下の手順は少し難しい内容になりますので、読み飛ばしても大丈夫です。

RubyとRailsについて、そのままのバージョンで利用していただいても大丈夫ですが、もしも、Rubyのバージョンを上げたい場合は以下の手順でバージョンアップできます。(rvm を利用しているので、rvmでの通常の作法でバージョンアップ可能です。)

```console
$ rvm get stable
$ rvm install 2.3.0
```

インストール後、Railsアプリのルートフォルダへ .ruby-version を作成し、`2.3.0` といった具合にRubyのバージョンを書くと、そのアプリではこのファイルで指定したバージョンを使用することができます。

Rails のバージョンを上げたい場合はRailsプロジェクト内の Gemfile 中の `gem 'rails', '5.0.0'` のバージョンを上げて `bundle update` コマンドを実行するか、`gem update rails` コマンドで環境に入っているrailsをバージョンアップすることができます。

### ローカルに開発環境を作る - mac の場合

自分のmac上に開発環境を作る方法です。

開発環境づくりに必要なxcodeツールをインストールします。

```console
$ xcode-select --install
```

homebrew をインストールします。homebrew は mac で様々な便利なものをインストール、管理するためのツールです。

```console
$ ruby -e "$(curl -fsSL https://raw.github.com/Homebrew/homebrew/go/install)"
```

homebrew を使って rbenv をインストールします。rbenv はRubyをインストールして管理するための道具です。

```console
$ brew update
$ brew install rbenv ruby-build
$ echo 'eval "$(rbenv init -)"' >> ~/.bash_profile
$ echo 'export PATH="$HOME/.rbenv/shims:$PATH"' >> ~/.bash_profile
$ source ~/.bash_profile
```

rbenv を使って Ruby をインストールします。

```console
$ rbenv install 2.3.0
```

install した Ruby を利用するように設定します。

```console
$ rbenv global 2.3.0
```

以上でRubyのインストールは完了です。続いて、インストールした Ruby を使って Rails をインストールします。

```console
$ gem install rails
```

ここまでで Ruby と Rails の開発環境構築ができました。

プログラムを入力する道具であるエディタは、好みのものがあればそれを利用してください。特にない場合は [Atom](https://atom.io/) をお勧めします。Atom は無料で利用することができます。(ライセンスは MIT ライセンスです。)

### ローカルに開発環境を作る - Windowsの場合

Windowsの場合は [RailsInstaller](http://railsinstaller.org) を利用することで簡単に環境を構築することができます。インストーラをダウンロードして実行してください。

※2016年2月現在の最新パッケージは、Ruby2.2.4, Rails4.2 という構成になっています。Railsはコマンドプロンプトから `gem update rails` コマンドで最新版にバージョンアップすることが可能です。しかし、Rubyのバージョンを上げるのは簡単ではないので、パッケージに入っているRubyをそのまま使うのが良いでしょう。最新バージョンのRubyおよびRailsを利用したい場合は、上記のCloud9の利用をお勧めします。

プログラムを入力する道具であるエディタは、好みのものがあればそれを利用してください。特にない場合は [Atom](https://github.com/atom/atom/blob/master/README.md#windows) をお勧めします。Atom は無料で利用することができます。(ライセンスは MIT ライセンスです。)

---

それでは、次の章から早速Railsアプリづくりを始めましょう！
